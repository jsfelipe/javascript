<!doctype html>
<html>

<head>
	<title>Curso Javascript Completo 2018</title>
	<meta charset="utf-8">

	<link href="css/bootstrap.css" rel="stylesheet">
	<link href="css/bootstrap-theme.css" rel="stylesheet">

	<script src="main.js"></script>

</head>

<body>
	<div class="container">
		<h1>Curso Javascript Completo 2018</h1>
	</div>


	<section>
		<div class="container">

			<h2>Média dos alunos</h2>
			<table class="table js-tabela">
				<thead>
					<tr>
						<th>Nome</th>
						<th>Nota 1</th>
						<th>Nota 2</th>
						<th>Nota 3</th>
						<th>Nota 4</th>
						<th>Média</th>
					</tr>
				</thead>
				<tbody>
					<tr class="aluno">
						<td class="aluno-nome">Gertrude</td>
						<td class="aluno-nota">10</td>
						<td class="aluno-nota">8.5</td>
						<td class="aluno-nota">9</td>
						<td class="aluno-nota">7.5</td>
						<td class="aluno-m"></td>
					</tr>

					<tr class="aluno">
						<td class="aluno-nome">Rey</td>
						<td class="aluno-nota">5</td>
						<td class="aluno-nota">8.5</td>
						<td class="aluno-nota">6.5</td>
						<td class="aluno-nota">7.5</td>
						<td class="aluno-m"></td>
					</tr>

					<tr class="aluno">
						<td class="aluno-nome">Jessilda</td>
						<td class="aluno-nota">8</td>
						<td class="aluno-nota">8.5</td>
						<td class="aluno-nota">7</td>
						<td class="aluno-nota">7.5</td>
						<td class="aluno-m"></td>
					</tr>

					<tr class="aluno">
						<td class="aluno-nome">Lindóia</td>
						<td class="aluno-nota">6.5</td>
						<td class="aluno-nota">8.5</td>
						<td class="aluno-nota">10</td>
						<td class="aluno-nota">7.5</td>
						<td class="aluno-m"></td>
					</tr>
					<tr class="aluno">
						<td class="aluno-nome">Creysson</td>
						<td class="aluno-nota">10</td>
						<td class="aluno-nota">9.5</td>
						<td class="aluno-nota">10</td>
						<td class="aluno-nota">8.5</td>
						<td class="aluno-m"></td>
					</tr>
				</tbody>
			</table>

		</div>
	</section>

	<script>
	
		var qtd_alunos = document.querySelectorAll('.aluno');
		
		// alunos_notas = document.getElementsByClassName('aluno');
		var x = 0;

		while(qtd_alunos[x]){

			// pegar todas as notas de cada linha : LEMBRAR QUE NESSE EXEMPLO, PEGAR APENAS 1 LINHA POR VEZ
			var aluno = document.querySelectorAll('.aluno')[x];
			
			var colunas_nota = aluno.getElementsByClassName('aluno-nota');
			//console.log(colunas_nota)
			var notas = pegarNotas(colunas_nota);
			
			var media = calcularMedia.apply(this, notas);
			//debugger
			//console.log(media);
			document.querySelectorAll('.aluno-m')[x].textContent = media;
			x++;

		}

		// FAZENDO COM FOR-EACH
		// Object.values(document.querySelectorAll('.aluno')).forEach(function(aluno){

		// 	var colunas_nota = aluno.getElementsByClassName('aluno-nota');
		// 	var notas = pegarNotas(colunas_nota);
		// 	var media = calcularMedia.apply(this, notas);

		// 	aluno.querySelectorAll('.aluno-m')[0].textContent = media;
		// 	// aluno.querySelectorAll('.aluno-m').textContent = media;
		// });


		//Função para pegar nas notas de cada linha em formato Float 
		function pegarNotas(colunas_nota) {
			var arr = [];
			var x = 0;
			while(colunas_nota[x]){
				arr.push(parseFloat(colunas_nota[x].textContent));
				//console.log(arr);
				x++;
			}

			return arr;
		}	
		
		
	</script>

</body>

</html>